(function(e){e.fn.fixOnScroll=function(t){this.each(function(){function v(e){return typeof r[e]=="function"?r[e]():r[e]}function m(){p=n.position().left+"px";r[i]=t[i]||n.offset().top;r[s]=t[s]||n.parent().height();r[o]=t[o]||n.height()+(parseInt(n.css("marginTop"))||0)+(parseInt(n.css("marginBottom"))||0);r[u]=t[u]||function(){return e(window).height()};r[f]=t[f]||n.offset().top-v(i);r[a]=t[a]||0;r[l]=t[l]||0}function g(){if("top"==d&&"f-top"!=d){n.css({position:"fixed",top:v(f),bottom:"auto",left:p});d="f-top"}else if("bottom"==d&&"f-bottom"!=d){n.css({position:"fixed",top:"auto",bottom:v(a),left:p});d="f-bottom"}}function y(){if("top"==d&&"f-bottom"!=d){n.css({position:"fixed",top:"auto",bottom:v(a),left:p});d="f-bottom"}else if("bottom"==d&&"f-top"!=d){n.css({position:"fixed",top:v(f),bottom:"auto",left:p});d="f-top"}}function x(){if("top"!=d){n.css({position:b,top:w,bottom:S,left:E});d="top"}}function T(e){if("bottom"!=d){n.css({position:"relative",top:e+"px",bottom:"auto",left:E});d="top"}}function N(){var t=v(o),r=v(u),l=v(i),p=v(s),d=v(f),m=v(a),b=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),w=b+r-d-m,E=l+p,S=E-t,N=l+t;if(p<=t+d+m){return}if(r>t){if(b<l){x();return}if(b>S-d-m){T(p-t-d-m);return}g()}else{if(w<N){x();return}if(w>E-d-m){T(p-t-d-m);return}y()}c=e(window).scrollLeft();if(c!=h){n.css("left",c);h=c}}function C(){x();m();N()}var n=e(this),r={},i="boxTop",s="boxHeight",o="blockHeight",u="viewPortHeight",a="fixedBottom",f="fixedTop",l="forceBind",c,h=0,p,d="top";m();var b=n.css("position"),w=n.css("top"),E=n.css("left"),S=n.css("bottom");if(v(l)||v(s)>v(o)){e(window).scroll(N).resize(C)}N()});return this}})(jQuery)