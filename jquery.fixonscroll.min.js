(function(e){e.fn.fixOnScroll=function(t){this.each(function(){function h(e){return typeof r[e]=="function"?r[e]():r[e]}function p(){if("top"==c&&"f-top"!=c){n.css({position:"fixed","margin-top":0,top:h(f),bottom:"auto"});c="f-top"}else if("bottom"==c&&"f-bottom"!=c){n.css({position:"fixed","margin-top":0,top:"auto",bottom:h(a)});c="f-bottom"}}function d(){if("top"==c&&"f-bottom"!=c){n.css({position:"fixed","margin-top":0,top:"auto",bottom:h(a)});c="f-bottom"}else if("bottom"==c&&"f-top"!=c){n.css({position:"fixed","margin-top":0,top:h(f),bottom:"auto"});c="f-top"}}function v(){if("top"!=c){n.css({position:"static","margin-top":0,bottom:"auto"});c="top"}}function m(e){if("bottom"!=c){n.css({position:"static","margin-top":e+"px",bottom:"auto"});c="top"}}function g(){var t=h(o),n=h(u),r=h(i),l=h(s),c=h(f),g=h(a),y=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),b=y+n-c-g,w=r+l,E=w-t,S=r+t;if(l<=t+c+g){return}if(n>t){if(y<r){v();return}if(y>E-c-g){m(l-t-c-g);return}p()}else{if(b<S){v();return}if(b>w-c-g){m(l-t-c-g);return}d()}}var n=e(this),r={},i="boxTop",s="boxHeight",o="blockHeight",u="viewPortHeight",a="fixedBottom",f="fixedTop",l="forceBind",c="top";r[i]=t[i]||n.offset().top;r[s]=t[s]||n.parent().height();r[o]=t[o]||n.height()+(parseInt(n.css("marginTop"))||0)+(parseInt(n.css("marginBottom"))||0);r[u]=t[u]||function(){return e(window).height()};r[f]=t[f]||n.offset().top-h(i);r[a]=t[a]||0;r[l]=t[l]||0;if(h(l)||h(s)>h(o)){e(window).scroll(g).resize(g)}});return this}})(jQuery)