(function(e){e.fn.fixOnScroll=function(t){this.each(function(){function g(e){return typeof r[e]=="function"?r[e]():r[e]}function y(){p=n.position().left;d=n.width()+"px";r[i]=t[i]||n.offset().top;r[s]=t[s]||n.parent().height();r[o]=t[o]||n.height()+(parseInt(n.css("marginTop"))||0)+(parseInt(n.css("marginBottom"))||0);r[u]=t[u]||function(){return e(window).height()};r[f]=t[f]||n.offset().top-g(i);r[a]=t[a]||0;r[l]=t[l]||0}function b(){if("top"==m&&"f-top"!=m){n.css({position:"fixed",top:g(f),bottom:"auto",left:p,width:d});m="f-top"}else if("bottom"==m&&"f-bottom"!=m){n.css({position:"fixed",top:"auto",bottom:g(a),left:p,width:d});m="f-bottom"}}function w(){var t=p-e(window).scrollLeft()+"px";if("top"==m&&"f-bottom"!=m){n.css({position:"fixed",top:"auto",bottom:g(a),left:t,width:d});m="f-bottom"}else if("bottom"==m&&"f-top"!=m){n.css({position:"fixed",top:g(f),bottom:"auto",left:t,width:d});m="f-top"}}function E(){if("top"!=m){n[0].style.cssText=v;m="top"}}function S(e){if("bottom"!=m){n[0].style.cssText=v;n.css({position:"relative",top:e+"px",bottom:"auto",width:d});m="bottom"}}function x(){var t=g(o),r=g(u),l=g(i),d=g(s),v=g(f),m=g(a),y=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),x=y+r-v-m,T=l+d,N=T-t,C=l+t;if(d<=t+v+m){return}if(r>t){if(y<l){E();return}if(y>N-v-m){S(d-t-v-m);return}b()}else{if(x<C){E();return}if(x>T-v-m){S(d-t-v-m);return}w()}c=e(window).scrollLeft();if(c!=h){n.css("left",p-c);h=c}}function T(){E();y();x()}var n=e(this),r={},i="boxTop",s="boxHeight",o="blockHeight",u="viewPortHeight",a="fixedBottom",f="fixedTop",l="forceBind",c,h=0,p,d,v=n[0].style.cssText,m="top";y();if(g(l)||g(s)>g(o)){e(window).scroll(x).resize(T)}x()});return this}})(jQuery)