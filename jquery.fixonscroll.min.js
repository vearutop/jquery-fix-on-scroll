(function(e){e.fn.fixOnScroll=function(t){this.each(function(){function g(e){return typeof r[e]=="function"?r[e]():r[e]}function y(){p=n.position().left+"px";d=n.width()+"px";r[i]=t[i]||n.offset().top;r[s]=t[s]||n.parent().height();r[o]=t[o]||n.height()+(parseInt(n.css("marginTop"))||0)+(parseInt(n.css("marginBottom"))||0);r[u]=t[u]||function(){return e(window).height()};r[f]=t[f]||n.offset().top-g(i);r[a]=t[a]||0;r[l]=t[l]||0}function b(){if("top"==m&&"f-top"!=m){n.css({position:"fixed",top:g(f),bottom:"auto",left:p,width:d});m="f-top"}else if("bottom"==m&&"f-bottom"!=m){n.css({position:"fixed",top:"auto",bottom:g(a),left:p,width:d});m="f-bottom"}}function w(){if("top"==m&&"f-bottom"!=m){n.css({position:"fixed",top:"auto",bottom:g(a),left:p,width:d});m="f-bottom"}else if("bottom"==m&&"f-top"!=m){n.css({position:"fixed",top:g(f),bottom:"auto",left:p,width:d});m="f-top"}}function E(){if("top"!=m){n[0].style.cssText=v;m="top"}}function S(e){if("bottom"!=m){n[0].style.cssText=v;n.css({position:"relative",top:e+"px",bottom:"auto",width:d});m="bottom"}}function x(){var t=g(o),r=g(u),l=g(i),p=g(s),d=g(f),v=g(a),m=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),y=m+r-d-v,x=l+p,T=x-t,N=l+t;if(p<=t+d+v){return}if(r>t){if(m<l){E();return}if(m>T-d-v){S(p-t-d-v);return}b()}else{if(y<N){E();return}if(y>x-d-v){S(p-t-d-v);return}w()}c=e(window).scrollLeft();if(c!=h){n.css("left",c);h=c}}function T(){E();y();x()}var n=e(this),r={},i="boxTop",s="boxHeight",o="blockHeight",u="viewPortHeight",a="fixedBottom",f="fixedTop",l="forceBind",c,h=0,p,d,v=n[0].style.cssText,m="top";y();if(g(l)||g(s)>g(o)){e(window).scroll(x).resize(T)}x()});return this}})(jQuery)