(function(e){e.fn.fixOnScroll=function(t){function s(){if("top"==i&&"f-top"!=i){n.css({position:"fixed",top:0,bottom:"auto"});i="f-top"}else if("bottom"==i&&"f-bottom"!=i){n.css({position:"fixed",top:"auto",bottom:0});i="f-bottom"}}function o(){if("top"==i&&"f-bottom"!=i){n.css({position:"fixed",top:"auto",bottom:0});i="f-bottom"}else if("bottom"==i&&"f-top"!=i){n.css({position:"fixed",top:0,bottom:"auto"});i="f-top"}}function u(){if("top"!=i){n.css({position:"relative",top:"auto",bottom:"auto"});i="top"}}function a(e){if("bottom"!=i){n.css({position:"relative",top:e+"px",bottom:"auto"});i="top"}}function f(e){return typeof r[e]=="function"?r[e]():r[e]}function l(){var t=f("blockHeight"),r=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),i={top:r,height:f("viewPortHeight")},l={top:f("boxTop"),height:f("boxHeight")};i.bottom=i.top+i.height;l.bottom=l.top+l.height;l.bottomPadded=l.bottom-t;l.topPadded=l.top+t;if(l.height<=t){return}if(i.height>n.height()){if(i.top<l.top){u();return}if(i.top>l.bottomPadded){a(l.height-t);return}s()}else{if(i.bottom<l.topPadded){u();return}if(i.bottom>l.bottom){a(l.height-t);return}o()}}var n=e(this),r=e.extend({boxTop:0,boxHeight:0,blockHeight:n.height(),viewPortHeight:e(window).height()},t),i="top";e(window).scroll(l).resize(l);return this}})(jQuery)