(function(e){e.fn.fixOnScroll=function(t){function s(){if("top"==i&&"f-top"!=i){n.css({position:"fixed",top:0,bottom:"auto"});i="f-top"}else if("bottom"==i&&"f-bottom"!=i){n.css({position:"fixed",top:"auto",bottom:0});i="f-bottom"}}function o(){if("top"==i&&"f-bottom"!=i){n.css({position:"fixed",top:"auto",bottom:0});i="f-bottom"}else if("bottom"==i&&"f-top"!=i){n.css({position:"fixed",top:0,bottom:"auto"});i="f-top"}}function u(){if("top"!=i){n.css({position:"relative",top:"auto",bottom:"auto"});i="top"}}function a(e){if("bottom"!=i){n.css({position:"relative",top:e+"px",bottom:"auto"});i="top"}}function f(){var t=typeof r.box=="function"?r.box():r.box,i=typeof r.blockHeight=="function"?r.blockHeight():r.blockHeight,f=typeof r.viewPortHeight=="function"?r.viewPortHeight():r.viewPortHeight,l=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),c={top:l,height:f,bottom:l+f};t.bottom=t.top+t.height;t.bottomPadded=t.bottom-i;t.topPadded=t.top+i;if(c.height>n.height()){if(c.top<t.top){u();return}if(c.top>t.bottomPadded){a(t.height-i);return}s()}else{if(c.bottom<t.topPadded){u();return}if(c.bottom>t.bottom){a(t.height-i);return}o()}}var n=e(this),r=e.extend({box:{top:0,height:0},blockHeight:n.height(),viewPortHeight:e(window).height()},t),i="top";e(window).scroll(f).resize(f);return this}})(jQuery)