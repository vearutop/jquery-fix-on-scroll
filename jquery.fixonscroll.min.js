(function(e){e.fn.fixOnScroll=function(t){this.each(function(){function f(){if("top"==a&&"f-top"!=a){n.css({position:"fixed",top:0,bottom:"auto"});a="f-top"}else if("bottom"==a&&"f-bottom"!=a){n.css({position:"fixed",top:"auto",bottom:0});a="f-bottom"}}function l(){if("top"==a&&"f-bottom"!=a){n.css({position:"fixed",top:"auto",bottom:0});a="f-bottom"}else if("bottom"==a&&"f-top"!=a){n.css({position:"fixed",top:0,bottom:"auto"});a="f-top"}}function c(){if("top"!=a){n.css({position:"relative",top:"auto",bottom:"auto"});a="top"}}function h(e){if("bottom"!=a){n.css({position:"relative",top:e+"px",bottom:"auto"});a="top"}}function p(e){return typeof r[e]=="function"?r[e]():r[e]}function d(){var t=p(o),r=p(u),a=p(i),d=p(s),v=e("html").scrollTop()>0?e("html").scrollTop():e("body").scrollTop(),m=v+r,g=a+d,y=g-t,w=a+t;if(d<=t){return}if(r>n.height()){if(v<a){c();return}if(v>y){h(d-t);return}f()}else{if(m<w){c();return}if(m>g){h(d-t);return}l()}}var n=e(this),r={},i="boxTop",s="boxHeight",o="blockHeight",u="viewPortHeight",a="top";r[i]=t[i]||n.offset().top;r[s]=t[s]||n.parent().height();r[o]=t[o]||n.height()+parseInt(n.css("marginTop"))+parseInt(n.css("marginBottom"));r[u]=t[u]||function(){return e(window).height()};if(p(s)>p(o)){e(window).scroll(d).resize(d)}});return this}})(jQuery)